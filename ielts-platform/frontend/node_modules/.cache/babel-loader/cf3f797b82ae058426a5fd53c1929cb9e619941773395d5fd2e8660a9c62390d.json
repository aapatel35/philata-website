{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$();\n// Frontend API Service - IELTS Master Platform\n// Save as: frontend/src/services/api.js\n\nimport axios from 'axios';\nimport { useState, useEffect, useCallback } from 'react';\n\n// API Configuration\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n// Create axios instance with default config\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Request interceptor for adding auth token\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('authToken');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => Promise.reject(error));\n\n// Response interceptor for error handling\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    localStorage.removeItem('authToken');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\n\n// ============================================\n// API Service Functions\n// ============================================\n\n// Reading Tests\nexport const readingAPI = {\n  getAll: params => api.get('/reading', {\n    params\n  }),\n  getById: id => api.get(`/reading/${id}`),\n  submitAnswer: (id, answers) => api.post(`/reading/${id}/submit`, {\n    answers\n  })\n};\n\n// Listening Tests\nexport const listeningAPI = {\n  getAll: params => api.get('/listening', {\n    params\n  }),\n  getById: id => api.get(`/listening/${id}`),\n  submitAnswer: (id, answers) => api.post(`/listening/${id}/submit`, {\n    answers\n  })\n};\n\n// Writing Tasks\nexport const writingAPI = {\n  getAll: params => api.get('/writing', {\n    params\n  }),\n  getById: id => api.get(`/writing/${id}`),\n  submit: (id, essay) => api.post(`/writing/${id}/submit`, {\n    essay\n  })\n};\n\n// Speaking Tests\nexport const speakingAPI = {\n  getAll: params => api.get('/speaking', {\n    params\n  }),\n  getById: id => api.get(`/speaking/${id}`),\n  submitRecording: (id, audioBlob) => {\n    const formData = new FormData();\n    formData.append('audio', audioBlob);\n    return api.post(`/speaking/${id}/submit`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  }\n};\n\n// Full Mock Tests\nexport const testsAPI = {\n  getAll: params => api.get('/tests', {\n    params\n  }),\n  getById: id => api.get(`/tests/${id}`),\n  submit: (id, answers) => api.post(`/tests/${id}/submit`, {\n    answers\n  })\n};\n\n// AI Services\nexport const aiAPI = {\n  analyzeWriting: (text, taskType) => api.post('/ai/analyze-writing', {\n    text,\n    taskType\n  }),\n  analyzeSpeaking: (transcript, questionType) => api.post('/ai/analyze-speaking', {\n    transcript,\n    questionType\n  }),\n  chat: (message, conversationHistory = []) => api.post('/ai/chat', {\n    message,\n    conversationHistory\n  })\n};\n\n// User Progress\nexport const userAPI = {\n  getProgress: userId => api.get(`/user/${userId}/progress`),\n  updateProgress: (userId, data) => api.put(`/user/${userId}/progress`, data),\n  saveTestResult: (userId, result) => api.post(`/user/${userId}/test-result`, result),\n  getAchievements: userId => api.get(`/user/${userId}/achievements`),\n  updateStreak: userId => api.post(`/user/${userId}/streak`)\n};\n\n// Vocabulary\nexport const vocabularyAPI = {\n  getAll: params => api.get('/vocabulary', {\n    params\n  }),\n  getById: id => api.get(`/vocabulary/${id}`),\n  addWord: word => api.post('/vocabulary', word),\n  updateWord: (id, updates) => api.put(`/vocabulary/${id}`, updates),\n  deleteWord: id => api.delete(`/vocabulary/${id}`),\n  getReviewWords: () => api.get('/vocabulary/review')\n};\n\n// Database Seeding\nexport const seedDatabase = () => api.post('/seed');\n\n// ============================================\n// Custom React Hooks\n// ============================================\n\n// Generic fetch hook\nexport function useApi(apiFunction, dependencies = []) {\n  _s();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await apiFunction();\n      setData(response.data);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message || 'An error occurred');\n    } finally {\n      setLoading(false);\n    }\n  }, [apiFunction]);\n  useEffect(() => {\n    fetchData();\n  }, [...dependencies, fetchData]);\n  return {\n    data,\n    loading,\n    error,\n    refetch: fetchData\n  };\n}\n\n// Hook for fetching tests by type\n_s(useApi, \"3VOdwmYM+Xfn1K8AA3J0x5968ms=\");\nexport function useTests(type, params = {}) {\n  _s2();\n  const [tests, setTests] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchTests = async () => {\n      try {\n        setLoading(true);\n        let response;\n        switch (type) {\n          case 'reading':\n            response = await readingAPI.getAll(params);\n            break;\n          case 'listening':\n            response = await listeningAPI.getAll(params);\n            break;\n          case 'writing':\n            response = await writingAPI.getAll(params);\n            break;\n          case 'speaking':\n            response = await speakingAPI.getAll(params);\n            break;\n          case 'full':\n            response = await testsAPI.getAll(params);\n            break;\n          default:\n            throw new Error('Invalid test type');\n        }\n        setTests(response.data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchTests();\n  }, [type, JSON.stringify(params)]);\n  return {\n    tests,\n    loading,\n    error\n  };\n}\n\n// Hook for single test\n_s2(useTests, \"i2x2USzTBexn1QsAiAwZvvEcKhE=\");\nexport function useTest(type, id) {\n  _s3();\n  const [test, setTest] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (!id) return;\n    const fetchTest = async () => {\n      try {\n        setLoading(true);\n        let response;\n        switch (type) {\n          case 'reading':\n            response = await readingAPI.getById(id);\n            break;\n          case 'listening':\n            response = await listeningAPI.getById(id);\n            break;\n          case 'writing':\n            response = await writingAPI.getById(id);\n            break;\n          case 'speaking':\n            response = await speakingAPI.getById(id);\n            break;\n          case 'full':\n            response = await testsAPI.getById(id);\n            break;\n          default:\n            throw new Error('Invalid test type');\n        }\n        setTest(response.data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchTest();\n  }, [type, id]);\n  return {\n    test,\n    loading,\n    error\n  };\n}\n\n// Hook for user progress\n_s3(useTest, \"CdGe1QiT1qG3sU76Sk9IUiocppU=\");\nexport function useProgress(userId) {\n  _s4();\n  const [progress, setProgress] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchProgress = useCallback(async () => {\n    if (!userId) return;\n    try {\n      setLoading(true);\n      const response = await userAPI.getProgress(userId);\n      setProgress(response.data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [userId]);\n  useEffect(() => {\n    fetchProgress();\n  }, [fetchProgress]);\n  const updateProgress = async data => {\n    try {\n      const response = await userAPI.updateProgress(userId, data);\n      setProgress(response.data);\n      return response.data;\n    } catch (err) {\n      throw err;\n    }\n  };\n  return {\n    progress,\n    loading,\n    error,\n    updateProgress,\n    refetch: fetchProgress\n  };\n}\n\n// Hook for AI chat\n_s4(useProgress, \"wMWjOqwcBB3O/fn41oCzOb6YqM8=\");\nexport function useAIChat() {\n  _s5();\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const sendMessage = async message => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Add user message immediately\n      const userMessage = {\n        role: 'user',\n        content: message\n      };\n      setMessages(prev => [...prev, userMessage]);\n\n      // Get AI response\n      const response = await aiAPI.chat(message, messages);\n      const aiMessage = {\n        role: 'assistant',\n        content: response.data.response\n      };\n      setMessages(prev => [...prev, aiMessage]);\n      return response.data;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n  const clearChat = () => {\n    setMessages([]);\n    setError(null);\n  };\n  return {\n    messages,\n    loading,\n    error,\n    sendMessage,\n    clearChat\n  };\n}\n\n// Hook for writing analysis\n_s5(useAIChat, \"WZ4G0+RK/Z1jfgdGkYche+Ua6dc=\");\nexport function useWritingAnalysis() {\n  _s6();\n  const [analysis, setAnalysis] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const analyzeWriting = async (text, taskType = 'task2') => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await aiAPI.analyzeWriting(text, taskType);\n      setAnalysis(response.data);\n      return response.data;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n  return {\n    analysis,\n    loading,\n    error,\n    analyzeWriting\n  };\n}\n\n// Hook for speaking analysis\n_s6(useWritingAnalysis, \"kCQ1l2slC8LNDHiqBKoWuoPGaf0=\");\nexport function useSpeakingAnalysis() {\n  _s7();\n  const [analysis, setAnalysis] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const analyzeSpeaking = async (transcript, questionType = 'part2') => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await aiAPI.analyzeSpeaking(transcript, questionType);\n      setAnalysis(response.data);\n      return response.data;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n  return {\n    analysis,\n    loading,\n    error,\n    analyzeSpeaking\n  };\n}\n\n// Hook for vocabulary with spaced repetition\n_s7(useSpeakingAnalysis, \"kCQ1l2slC8LNDHiqBKoWuoPGaf0=\");\nexport function useVocabulary() {\n  _s8();\n  const [words, setWords] = useState([]);\n  const [reviewWords, setReviewWords] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchWords = useCallback(async () => {\n    try {\n      setLoading(true);\n      const [allWords, review] = await Promise.all([vocabularyAPI.getAll(), vocabularyAPI.getReviewWords()]);\n      setWords(allWords.data);\n      setReviewWords(review.data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    fetchWords();\n  }, [fetchWords]);\n  const addWord = async word => {\n    const response = await vocabularyAPI.addWord(word);\n    setWords(prev => [...prev, response.data]);\n    return response.data;\n  };\n  const updateWord = async (id, updates) => {\n    const response = await vocabularyAPI.updateWord(id, updates);\n    setWords(prev => prev.map(w => w.id === id ? response.data : w));\n    return response.data;\n  };\n  const deleteWord = async id => {\n    await vocabularyAPI.deleteWord(id);\n    setWords(prev => prev.filter(w => w.id !== id));\n  };\n  return {\n    words,\n    reviewWords,\n    loading,\n    error,\n    addWord,\n    updateWord,\n    deleteWord,\n    refetch: fetchWords\n  };\n}\n\n// Combined AI hook for backwards compatibility\n_s8(useVocabulary, \"B/TIpfplt2QBWQNXaiqziZC71o0=\");\nexport function useAI() {\n  _s9();\n  const [analyzing, setAnalyzing] = useState(false);\n  const [chatting, setChatting] = useState(false);\n  const analyzeWriting = async (text, taskType = 'task2') => {\n    setAnalyzing(true);\n    try {\n      const response = await aiAPI.analyzeWriting(text, taskType);\n      return response.data;\n    } catch (error) {\n      console.error('Writing analysis error:', error);\n      throw error;\n    } finally {\n      setAnalyzing(false);\n    }\n  };\n  const analyzeSpeaking = async (transcript, partNumber = 2) => {\n    setAnalyzing(true);\n    try {\n      const response = await aiAPI.analyzeSpeaking(transcript, partNumber);\n      return response.data;\n    } catch (error) {\n      console.error('Speaking analysis error:', error);\n      throw error;\n    } finally {\n      setAnalyzing(false);\n    }\n  };\n  const chat = async (message, history = []) => {\n    setChatting(true);\n    try {\n      const response = await aiAPI.chat(message, history);\n      return response.data;\n    } catch (error) {\n      console.error('Chat error:', error);\n      throw error;\n    } finally {\n      setChatting(false);\n    }\n  };\n  return {\n    analyzeWriting,\n    analyzeSpeaking,\n    chat,\n    analyzing,\n    chatting\n  };\n}\n\n// Export default api instance for custom requests\n_s9(useAI, \"IcZaqOQyQFSOhwsJObvyRhFaBmc=\");\nexport default api;","map":{"version":3,"names":["axios","useState","useEffect","useCallback","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","timeout","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","response","_error$response","status","removeItem","window","location","href","readingAPI","getAll","params","get","getById","id","submitAnswer","answers","post","listeningAPI","writingAPI","submit","essay","speakingAPI","submitRecording","audioBlob","formData","FormData","append","testsAPI","aiAPI","analyzeWriting","text","taskType","analyzeSpeaking","transcript","questionType","chat","message","conversationHistory","userAPI","getProgress","userId","updateProgress","data","put","saveTestResult","result","getAchievements","updateStreak","vocabularyAPI","addWord","word","updateWord","updates","deleteWord","delete","getReviewWords","seedDatabase","useApi","apiFunction","dependencies","_s","setData","loading","setLoading","setError","fetchData","err","_err$response","_err$response$data","refetch","useTests","type","_s2","tests","setTests","fetchTests","Error","JSON","stringify","useTest","_s3","test","setTest","fetchTest","useProgress","_s4","progress","setProgress","fetchProgress","useAIChat","_s5","messages","setMessages","sendMessage","userMessage","role","content","prev","aiMessage","clearChat","useWritingAnalysis","_s6","analysis","setAnalysis","useSpeakingAnalysis","_s7","useVocabulary","_s8","words","setWords","reviewWords","setReviewWords","fetchWords","allWords","review","all","map","w","filter","useAI","_s9","analyzing","setAnalyzing","chatting","setChatting","console","partNumber","history"],"sources":["/Users/avipatel/Library/CloudStorage/OneDrive-Personal/philata_ultimate_v3/website/ielts-platform/frontend/src/services/api.js"],"sourcesContent":["// Frontend API Service - IELTS Master Platform\n// Save as: frontend/src/services/api.js\n\nimport axios from 'axios';\nimport { useState, useEffect, useCallback } from 'react';\n\n// API Configuration\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n// Create axios instance with default config\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor for adding auth token\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\n// Response interceptor for error handling\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('authToken');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// ============================================\n// API Service Functions\n// ============================================\n\n// Reading Tests\nexport const readingAPI = {\n  getAll: (params) => api.get('/reading', { params }),\n  getById: (id) => api.get(`/reading/${id}`),\n  submitAnswer: (id, answers) => api.post(`/reading/${id}/submit`, { answers }),\n};\n\n// Listening Tests\nexport const listeningAPI = {\n  getAll: (params) => api.get('/listening', { params }),\n  getById: (id) => api.get(`/listening/${id}`),\n  submitAnswer: (id, answers) => api.post(`/listening/${id}/submit`, { answers }),\n};\n\n// Writing Tasks\nexport const writingAPI = {\n  getAll: (params) => api.get('/writing', { params }),\n  getById: (id) => api.get(`/writing/${id}`),\n  submit: (id, essay) => api.post(`/writing/${id}/submit`, { essay }),\n};\n\n// Speaking Tests\nexport const speakingAPI = {\n  getAll: (params) => api.get('/speaking', { params }),\n  getById: (id) => api.get(`/speaking/${id}`),\n  submitRecording: (id, audioBlob) => {\n    const formData = new FormData();\n    formData.append('audio', audioBlob);\n    return api.post(`/speaking/${id}/submit`, formData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n  },\n};\n\n// Full Mock Tests\nexport const testsAPI = {\n  getAll: (params) => api.get('/tests', { params }),\n  getById: (id) => api.get(`/tests/${id}`),\n  submit: (id, answers) => api.post(`/tests/${id}/submit`, { answers }),\n};\n\n// AI Services\nexport const aiAPI = {\n  analyzeWriting: (text, taskType) => \n    api.post('/ai/analyze-writing', { text, taskType }),\n  analyzeSpeaking: (transcript, questionType) => \n    api.post('/ai/analyze-speaking', { transcript, questionType }),\n  chat: (message, conversationHistory = []) => \n    api.post('/ai/chat', { message, conversationHistory }),\n};\n\n// User Progress\nexport const userAPI = {\n  getProgress: (userId) => api.get(`/user/${userId}/progress`),\n  updateProgress: (userId, data) => api.put(`/user/${userId}/progress`, data),\n  saveTestResult: (userId, result) => api.post(`/user/${userId}/test-result`, result),\n  getAchievements: (userId) => api.get(`/user/${userId}/achievements`),\n  updateStreak: (userId) => api.post(`/user/${userId}/streak`),\n};\n\n// Vocabulary\nexport const vocabularyAPI = {\n  getAll: (params) => api.get('/vocabulary', { params }),\n  getById: (id) => api.get(`/vocabulary/${id}`),\n  addWord: (word) => api.post('/vocabulary', word),\n  updateWord: (id, updates) => api.put(`/vocabulary/${id}`, updates),\n  deleteWord: (id) => api.delete(`/vocabulary/${id}`),\n  getReviewWords: () => api.get('/vocabulary/review'),\n};\n\n// Database Seeding\nexport const seedDatabase = () => api.post('/seed');\n\n// ============================================\n// Custom React Hooks\n// ============================================\n\n// Generic fetch hook\nexport function useApi(apiFunction, dependencies = []) {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await apiFunction();\n      setData(response.data);\n    } catch (err) {\n      setError(err.response?.data?.message || err.message || 'An error occurred');\n    } finally {\n      setLoading(false);\n    }\n  }, [apiFunction]);\n\n  useEffect(() => {\n    fetchData();\n  }, [...dependencies, fetchData]);\n\n  return { data, loading, error, refetch: fetchData };\n}\n\n// Hook for fetching tests by type\nexport function useTests(type, params = {}) {\n  const [tests, setTests] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchTests = async () => {\n      try {\n        setLoading(true);\n        let response;\n        switch (type) {\n          case 'reading':\n            response = await readingAPI.getAll(params);\n            break;\n          case 'listening':\n            response = await listeningAPI.getAll(params);\n            break;\n          case 'writing':\n            response = await writingAPI.getAll(params);\n            break;\n          case 'speaking':\n            response = await speakingAPI.getAll(params);\n            break;\n          case 'full':\n            response = await testsAPI.getAll(params);\n            break;\n          default:\n            throw new Error('Invalid test type');\n        }\n        setTests(response.data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTests();\n  }, [type, JSON.stringify(params)]);\n\n  return { tests, loading, error };\n}\n\n// Hook for single test\nexport function useTest(type, id) {\n  const [test, setTest] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!id) return;\n\n    const fetchTest = async () => {\n      try {\n        setLoading(true);\n        let response;\n        switch (type) {\n          case 'reading':\n            response = await readingAPI.getById(id);\n            break;\n          case 'listening':\n            response = await listeningAPI.getById(id);\n            break;\n          case 'writing':\n            response = await writingAPI.getById(id);\n            break;\n          case 'speaking':\n            response = await speakingAPI.getById(id);\n            break;\n          case 'full':\n            response = await testsAPI.getById(id);\n            break;\n          default:\n            throw new Error('Invalid test type');\n        }\n        setTest(response.data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchTest();\n  }, [type, id]);\n\n  return { test, loading, error };\n}\n\n// Hook for user progress\nexport function useProgress(userId) {\n  const [progress, setProgress] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchProgress = useCallback(async () => {\n    if (!userId) return;\n    try {\n      setLoading(true);\n      const response = await userAPI.getProgress(userId);\n      setProgress(response.data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [userId]);\n\n  useEffect(() => {\n    fetchProgress();\n  }, [fetchProgress]);\n\n  const updateProgress = async (data) => {\n    try {\n      const response = await userAPI.updateProgress(userId, data);\n      setProgress(response.data);\n      return response.data;\n    } catch (err) {\n      throw err;\n    }\n  };\n\n  return { progress, loading, error, updateProgress, refetch: fetchProgress };\n}\n\n// Hook for AI chat\nexport function useAIChat() {\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const sendMessage = async (message) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      // Add user message immediately\n      const userMessage = { role: 'user', content: message };\n      setMessages(prev => [...prev, userMessage]);\n      \n      // Get AI response\n      const response = await aiAPI.chat(message, messages);\n      const aiMessage = { role: 'assistant', content: response.data.response };\n      setMessages(prev => [...prev, aiMessage]);\n      \n      return response.data;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const clearChat = () => {\n    setMessages([]);\n    setError(null);\n  };\n\n  return { messages, loading, error, sendMessage, clearChat };\n}\n\n// Hook for writing analysis\nexport function useWritingAnalysis() {\n  const [analysis, setAnalysis] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const analyzeWriting = async (text, taskType = 'task2') => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await aiAPI.analyzeWriting(text, taskType);\n      setAnalysis(response.data);\n      return response.data;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return { analysis, loading, error, analyzeWriting };\n}\n\n// Hook for speaking analysis\nexport function useSpeakingAnalysis() {\n  const [analysis, setAnalysis] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const analyzeSpeaking = async (transcript, questionType = 'part2') => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await aiAPI.analyzeSpeaking(transcript, questionType);\n      setAnalysis(response.data);\n      return response.data;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return { analysis, loading, error, analyzeSpeaking };\n}\n\n// Hook for vocabulary with spaced repetition\nexport function useVocabulary() {\n  const [words, setWords] = useState([]);\n  const [reviewWords, setReviewWords] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchWords = useCallback(async () => {\n    try {\n      setLoading(true);\n      const [allWords, review] = await Promise.all([\n        vocabularyAPI.getAll(),\n        vocabularyAPI.getReviewWords(),\n      ]);\n      setWords(allWords.data);\n      setReviewWords(review.data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchWords();\n  }, [fetchWords]);\n\n  const addWord = async (word) => {\n    const response = await vocabularyAPI.addWord(word);\n    setWords(prev => [...prev, response.data]);\n    return response.data;\n  };\n\n  const updateWord = async (id, updates) => {\n    const response = await vocabularyAPI.updateWord(id, updates);\n    setWords(prev => prev.map(w => w.id === id ? response.data : w));\n    return response.data;\n  };\n\n  const deleteWord = async (id) => {\n    await vocabularyAPI.deleteWord(id);\n    setWords(prev => prev.filter(w => w.id !== id));\n  };\n\n  return { words, reviewWords, loading, error, addWord, updateWord, deleteWord, refetch: fetchWords };\n}\n\n// Combined AI hook for backwards compatibility\nexport function useAI() {\n  const [analyzing, setAnalyzing] = useState(false);\n  const [chatting, setChatting] = useState(false);\n\n  const analyzeWriting = async (text, taskType = 'task2') => {\n    setAnalyzing(true);\n    try {\n      const response = await aiAPI.analyzeWriting(text, taskType);\n      return response.data;\n    } catch (error) {\n      console.error('Writing analysis error:', error);\n      throw error;\n    } finally {\n      setAnalyzing(false);\n    }\n  };\n\n  const analyzeSpeaking = async (transcript, partNumber = 2) => {\n    setAnalyzing(true);\n    try {\n      const response = await aiAPI.analyzeSpeaking(transcript, partNumber);\n      return response.data;\n    } catch (error) {\n      console.error('Speaking analysis error:', error);\n      throw error;\n    } finally {\n      setAnalyzing(false);\n    }\n  };\n\n  const chat = async (message, history = []) => {\n    setChatting(true);\n    try {\n      const response = await aiAPI.chat(message, history);\n      return response.data;\n    } catch (error) {\n      console.error('Chat error:', error);\n      throw error;\n    } finally {\n      setChatting(false);\n    }\n  };\n\n  return { analyzeWriting, analyzeSpeaking, chat, analyzing, chatting };\n}\n\n// Export default api instance for custom requests\nexport default api;\n"],"mappings":";;;;;;;;;AAAA;AACA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;;AAExD;AACA,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;;AAEjF;AACA,MAAMC,GAAG,GAAGR,KAAK,CAACS,MAAM,CAAC;EACvBC,OAAO,EAAEN,YAAY;EACrBO,OAAO,EAAE,KAAK;EACdC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACAJ,GAAG,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBC,MAAM,IAAK;EACV,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;EAC/C,IAAIF,KAAK,EAAE;IACTD,MAAM,CAACJ,OAAO,CAACQ,aAAa,GAAG,UAAUH,KAAK,EAAE;EAClD;EACA,OAAOD,MAAM;AACf,CAAC,EACAK,KAAK,IAAKC,OAAO,CAACC,MAAM,CAACF,KAAK,CACjC,CAAC;;AAED;AACAb,GAAG,CAACK,YAAY,CAACW,QAAQ,CAACT,GAAG,CAC1BS,QAAQ,IAAKA,QAAQ,EACrBH,KAAK,IAAK;EAAA,IAAAI,eAAA;EACT,IAAI,EAAAA,eAAA,GAAAJ,KAAK,CAACG,QAAQ,cAAAC,eAAA,uBAAdA,eAAA,CAAgBC,MAAM,MAAK,GAAG,EAAE;IAClCR,YAAY,CAACS,UAAU,CAAC,WAAW,CAAC;IACpCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;EACjC;EACA,OAAOR,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACA;AACA;;AAEA;AACA,OAAO,MAAMU,UAAU,GAAG;EACxBC,MAAM,EAAGC,MAAM,IAAKzB,GAAG,CAAC0B,GAAG,CAAC,UAAU,EAAE;IAAED;EAAO,CAAC,CAAC;EACnDE,OAAO,EAAGC,EAAE,IAAK5B,GAAG,CAAC0B,GAAG,CAAC,YAAYE,EAAE,EAAE,CAAC;EAC1CC,YAAY,EAAEA,CAACD,EAAE,EAAEE,OAAO,KAAK9B,GAAG,CAAC+B,IAAI,CAAC,YAAYH,EAAE,SAAS,EAAE;IAAEE;EAAQ,CAAC;AAC9E,CAAC;;AAED;AACA,OAAO,MAAME,YAAY,GAAG;EAC1BR,MAAM,EAAGC,MAAM,IAAKzB,GAAG,CAAC0B,GAAG,CAAC,YAAY,EAAE;IAAED;EAAO,CAAC,CAAC;EACrDE,OAAO,EAAGC,EAAE,IAAK5B,GAAG,CAAC0B,GAAG,CAAC,cAAcE,EAAE,EAAE,CAAC;EAC5CC,YAAY,EAAEA,CAACD,EAAE,EAAEE,OAAO,KAAK9B,GAAG,CAAC+B,IAAI,CAAC,cAAcH,EAAE,SAAS,EAAE;IAAEE;EAAQ,CAAC;AAChF,CAAC;;AAED;AACA,OAAO,MAAMG,UAAU,GAAG;EACxBT,MAAM,EAAGC,MAAM,IAAKzB,GAAG,CAAC0B,GAAG,CAAC,UAAU,EAAE;IAAED;EAAO,CAAC,CAAC;EACnDE,OAAO,EAAGC,EAAE,IAAK5B,GAAG,CAAC0B,GAAG,CAAC,YAAYE,EAAE,EAAE,CAAC;EAC1CM,MAAM,EAAEA,CAACN,EAAE,EAAEO,KAAK,KAAKnC,GAAG,CAAC+B,IAAI,CAAC,YAAYH,EAAE,SAAS,EAAE;IAAEO;EAAM,CAAC;AACpE,CAAC;;AAED;AACA,OAAO,MAAMC,WAAW,GAAG;EACzBZ,MAAM,EAAGC,MAAM,IAAKzB,GAAG,CAAC0B,GAAG,CAAC,WAAW,EAAE;IAAED;EAAO,CAAC,CAAC;EACpDE,OAAO,EAAGC,EAAE,IAAK5B,GAAG,CAAC0B,GAAG,CAAC,aAAaE,EAAE,EAAE,CAAC;EAC3CS,eAAe,EAAEA,CAACT,EAAE,EAAEU,SAAS,KAAK;IAClC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEH,SAAS,CAAC;IACnC,OAAOtC,GAAG,CAAC+B,IAAI,CAAC,aAAaH,EAAE,SAAS,EAAEW,QAAQ,EAAE;MAClDnC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAsB;IACnD,CAAC,CAAC;EACJ;AACF,CAAC;;AAED;AACA,OAAO,MAAMsC,QAAQ,GAAG;EACtBlB,MAAM,EAAGC,MAAM,IAAKzB,GAAG,CAAC0B,GAAG,CAAC,QAAQ,EAAE;IAAED;EAAO,CAAC,CAAC;EACjDE,OAAO,EAAGC,EAAE,IAAK5B,GAAG,CAAC0B,GAAG,CAAC,UAAUE,EAAE,EAAE,CAAC;EACxCM,MAAM,EAAEA,CAACN,EAAE,EAAEE,OAAO,KAAK9B,GAAG,CAAC+B,IAAI,CAAC,UAAUH,EAAE,SAAS,EAAE;IAAEE;EAAQ,CAAC;AACtE,CAAC;;AAED;AACA,OAAO,MAAMa,KAAK,GAAG;EACnBC,cAAc,EAAEA,CAACC,IAAI,EAAEC,QAAQ,KAC7B9C,GAAG,CAAC+B,IAAI,CAAC,qBAAqB,EAAE;IAAEc,IAAI;IAAEC;EAAS,CAAC,CAAC;EACrDC,eAAe,EAAEA,CAACC,UAAU,EAAEC,YAAY,KACxCjD,GAAG,CAAC+B,IAAI,CAAC,sBAAsB,EAAE;IAAEiB,UAAU;IAAEC;EAAa,CAAC,CAAC;EAChEC,IAAI,EAAEA,CAACC,OAAO,EAAEC,mBAAmB,GAAG,EAAE,KACtCpD,GAAG,CAAC+B,IAAI,CAAC,UAAU,EAAE;IAAEoB,OAAO;IAAEC;EAAoB,CAAC;AACzD,CAAC;;AAED;AACA,OAAO,MAAMC,OAAO,GAAG;EACrBC,WAAW,EAAGC,MAAM,IAAKvD,GAAG,CAAC0B,GAAG,CAAC,SAAS6B,MAAM,WAAW,CAAC;EAC5DC,cAAc,EAAEA,CAACD,MAAM,EAAEE,IAAI,KAAKzD,GAAG,CAAC0D,GAAG,CAAC,SAASH,MAAM,WAAW,EAAEE,IAAI,CAAC;EAC3EE,cAAc,EAAEA,CAACJ,MAAM,EAAEK,MAAM,KAAK5D,GAAG,CAAC+B,IAAI,CAAC,SAASwB,MAAM,cAAc,EAAEK,MAAM,CAAC;EACnFC,eAAe,EAAGN,MAAM,IAAKvD,GAAG,CAAC0B,GAAG,CAAC,SAAS6B,MAAM,eAAe,CAAC;EACpEO,YAAY,EAAGP,MAAM,IAAKvD,GAAG,CAAC+B,IAAI,CAAC,SAASwB,MAAM,SAAS;AAC7D,CAAC;;AAED;AACA,OAAO,MAAMQ,aAAa,GAAG;EAC3BvC,MAAM,EAAGC,MAAM,IAAKzB,GAAG,CAAC0B,GAAG,CAAC,aAAa,EAAE;IAAED;EAAO,CAAC,CAAC;EACtDE,OAAO,EAAGC,EAAE,IAAK5B,GAAG,CAAC0B,GAAG,CAAC,eAAeE,EAAE,EAAE,CAAC;EAC7CoC,OAAO,EAAGC,IAAI,IAAKjE,GAAG,CAAC+B,IAAI,CAAC,aAAa,EAAEkC,IAAI,CAAC;EAChDC,UAAU,EAAEA,CAACtC,EAAE,EAAEuC,OAAO,KAAKnE,GAAG,CAAC0D,GAAG,CAAC,eAAe9B,EAAE,EAAE,EAAEuC,OAAO,CAAC;EAClEC,UAAU,EAAGxC,EAAE,IAAK5B,GAAG,CAACqE,MAAM,CAAC,eAAezC,EAAE,EAAE,CAAC;EACnD0C,cAAc,EAAEA,CAAA,KAAMtE,GAAG,CAAC0B,GAAG,CAAC,oBAAoB;AACpD,CAAC;;AAED;AACA,OAAO,MAAM6C,YAAY,GAAGA,CAAA,KAAMvE,GAAG,CAAC+B,IAAI,CAAC,OAAO,CAAC;;AAEnD;AACA;AACA;;AAEA;AACA,OAAO,SAASyC,MAAMA,CAACC,WAAW,EAAEC,YAAY,GAAG,EAAE,EAAE;EAAAC,EAAA;EACrD,MAAM,CAAClB,IAAI,EAAEmB,OAAO,CAAC,GAAGnF,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACoF,OAAO,EAAEC,UAAU,CAAC,GAAGrF,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACoB,KAAK,EAAEkE,QAAQ,CAAC,GAAGtF,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMuF,SAAS,GAAGrF,WAAW,CAAC,YAAY;IACxC,IAAI;MACFmF,UAAU,CAAC,IAAI,CAAC;MAChBC,QAAQ,CAAC,IAAI,CAAC;MACd,MAAM/D,QAAQ,GAAG,MAAMyD,WAAW,CAAC,CAAC;MACpCG,OAAO,CAAC5D,QAAQ,CAACyC,IAAI,CAAC;IACxB,CAAC,CAAC,OAAOwB,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACZJ,QAAQ,CAAC,EAAAG,aAAA,GAAAD,GAAG,CAACjE,QAAQ,cAAAkE,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAczB,IAAI,cAAA0B,kBAAA,uBAAlBA,kBAAA,CAAoBhC,OAAO,KAAI8B,GAAG,CAAC9B,OAAO,IAAI,mBAAmB,CAAC;IAC7E,CAAC,SAAS;MACR2B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACL,WAAW,CAAC,CAAC;EAEjB/E,SAAS,CAAC,MAAM;IACdsF,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAAC,GAAGN,YAAY,EAAEM,SAAS,CAAC,CAAC;EAEhC,OAAO;IAAEvB,IAAI;IAAEoB,OAAO;IAAEhE,KAAK;IAAEuE,OAAO,EAAEJ;EAAU,CAAC;AACrD;;AAEA;AAAAL,EAAA,CAzBgBH,MAAM;AA0BtB,OAAO,SAASa,QAAQA,CAACC,IAAI,EAAE7D,MAAM,GAAG,CAAC,CAAC,EAAE;EAAA8D,GAAA;EAC1C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGhG,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACoF,OAAO,EAAEC,UAAU,CAAC,GAAGrF,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACoB,KAAK,EAAEkE,QAAQ,CAAC,GAAGtF,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACd,MAAMgG,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACFZ,UAAU,CAAC,IAAI,CAAC;QAChB,IAAI9D,QAAQ;QACZ,QAAQsE,IAAI;UACV,KAAK,SAAS;YACZtE,QAAQ,GAAG,MAAMO,UAAU,CAACC,MAAM,CAACC,MAAM,CAAC;YAC1C;UACF,KAAK,WAAW;YACdT,QAAQ,GAAG,MAAMgB,YAAY,CAACR,MAAM,CAACC,MAAM,CAAC;YAC5C;UACF,KAAK,SAAS;YACZT,QAAQ,GAAG,MAAMiB,UAAU,CAACT,MAAM,CAACC,MAAM,CAAC;YAC1C;UACF,KAAK,UAAU;YACbT,QAAQ,GAAG,MAAMoB,WAAW,CAACZ,MAAM,CAACC,MAAM,CAAC;YAC3C;UACF,KAAK,MAAM;YACTT,QAAQ,GAAG,MAAM0B,QAAQ,CAAClB,MAAM,CAACC,MAAM,CAAC;YACxC;UACF;YACE,MAAM,IAAIkE,KAAK,CAAC,mBAAmB,CAAC;QACxC;QACAF,QAAQ,CAACzE,QAAQ,CAACyC,IAAI,CAAC;MACzB,CAAC,CAAC,OAAOwB,GAAG,EAAE;QACZF,QAAQ,CAACE,GAAG,CAAC9B,OAAO,CAAC;MACvB,CAAC,SAAS;QACR2B,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDY,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,CAACJ,IAAI,EAAEM,IAAI,CAACC,SAAS,CAACpE,MAAM,CAAC,CAAC,CAAC;EAElC,OAAO;IAAE+D,KAAK;IAAEX,OAAO;IAAEhE;EAAM,CAAC;AAClC;;AAEA;AAAA0E,GAAA,CA3CgBF,QAAQ;AA4CxB,OAAO,SAASS,OAAOA,CAACR,IAAI,EAAE1D,EAAE,EAAE;EAAAmE,GAAA;EAChC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGxG,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACoF,OAAO,EAAEC,UAAU,CAAC,GAAGrF,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACoB,KAAK,EAAEkE,QAAQ,CAAC,GAAGtF,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACd,IAAI,CAACkC,EAAE,EAAE;IAET,MAAMsE,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACFpB,UAAU,CAAC,IAAI,CAAC;QAChB,IAAI9D,QAAQ;QACZ,QAAQsE,IAAI;UACV,KAAK,SAAS;YACZtE,QAAQ,GAAG,MAAMO,UAAU,CAACI,OAAO,CAACC,EAAE,CAAC;YACvC;UACF,KAAK,WAAW;YACdZ,QAAQ,GAAG,MAAMgB,YAAY,CAACL,OAAO,CAACC,EAAE,CAAC;YACzC;UACF,KAAK,SAAS;YACZZ,QAAQ,GAAG,MAAMiB,UAAU,CAACN,OAAO,CAACC,EAAE,CAAC;YACvC;UACF,KAAK,UAAU;YACbZ,QAAQ,GAAG,MAAMoB,WAAW,CAACT,OAAO,CAACC,EAAE,CAAC;YACxC;UACF,KAAK,MAAM;YACTZ,QAAQ,GAAG,MAAM0B,QAAQ,CAACf,OAAO,CAACC,EAAE,CAAC;YACrC;UACF;YACE,MAAM,IAAI+D,KAAK,CAAC,mBAAmB,CAAC;QACxC;QACAM,OAAO,CAACjF,QAAQ,CAACyC,IAAI,CAAC;MACxB,CAAC,CAAC,OAAOwB,GAAG,EAAE;QACZF,QAAQ,CAACE,GAAG,CAAC9B,OAAO,CAAC;MACvB,CAAC,SAAS;QACR2B,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDoB,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACZ,IAAI,EAAE1D,EAAE,CAAC,CAAC;EAEd,OAAO;IAAEoE,IAAI;IAAEnB,OAAO;IAAEhE;EAAM,CAAC;AACjC;;AAEA;AAAAkF,GAAA,CA7CgBD,OAAO;AA8CvB,OAAO,SAASK,WAAWA,CAAC5C,MAAM,EAAE;EAAA6C,GAAA;EAClC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG7G,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACoF,OAAO,EAAEC,UAAU,CAAC,GAAGrF,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACoB,KAAK,EAAEkE,QAAQ,CAAC,GAAGtF,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAM8G,aAAa,GAAG5G,WAAW,CAAC,YAAY;IAC5C,IAAI,CAAC4D,MAAM,EAAE;IACb,IAAI;MACFuB,UAAU,CAAC,IAAI,CAAC;MAChB,MAAM9D,QAAQ,GAAG,MAAMqC,OAAO,CAACC,WAAW,CAACC,MAAM,CAAC;MAClD+C,WAAW,CAACtF,QAAQ,CAACyC,IAAI,CAAC;IAC5B,CAAC,CAAC,OAAOwB,GAAG,EAAE;MACZF,QAAQ,CAACE,GAAG,CAAC9B,OAAO,CAAC;IACvB,CAAC,SAAS;MACR2B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACvB,MAAM,CAAC,CAAC;EAEZ7D,SAAS,CAAC,MAAM;IACd6G,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EAEnB,MAAM/C,cAAc,GAAG,MAAOC,IAAI,IAAK;IACrC,IAAI;MACF,MAAMzC,QAAQ,GAAG,MAAMqC,OAAO,CAACG,cAAc,CAACD,MAAM,EAAEE,IAAI,CAAC;MAC3D6C,WAAW,CAACtF,QAAQ,CAACyC,IAAI,CAAC;MAC1B,OAAOzC,QAAQ,CAACyC,IAAI;IACtB,CAAC,CAAC,OAAOwB,GAAG,EAAE;MACZ,MAAMA,GAAG;IACX;EACF,CAAC;EAED,OAAO;IAAEoB,QAAQ;IAAExB,OAAO;IAAEhE,KAAK;IAAE2C,cAAc;IAAE4B,OAAO,EAAEmB;EAAc,CAAC;AAC7E;;AAEA;AAAAH,GAAA,CAnCgBD,WAAW;AAoC3B,OAAO,SAASK,SAASA,CAAA,EAAG;EAAAC,GAAA;EAC1B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGlH,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACoF,OAAO,EAAEC,UAAU,CAAC,GAAGrF,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACoB,KAAK,EAAEkE,QAAQ,CAAC,GAAGtF,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMmH,WAAW,GAAG,MAAOzD,OAAO,IAAK;IACrC,IAAI;MACF2B,UAAU,CAAC,IAAI,CAAC;MAChBC,QAAQ,CAAC,IAAI,CAAC;;MAEd;MACA,MAAM8B,WAAW,GAAG;QAAEC,IAAI,EAAE,MAAM;QAAEC,OAAO,EAAE5D;MAAQ,CAAC;MACtDwD,WAAW,CAACK,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEH,WAAW,CAAC,CAAC;;MAE3C;MACA,MAAM7F,QAAQ,GAAG,MAAM2B,KAAK,CAACO,IAAI,CAACC,OAAO,EAAEuD,QAAQ,CAAC;MACpD,MAAMO,SAAS,GAAG;QAAEH,IAAI,EAAE,WAAW;QAAEC,OAAO,EAAE/F,QAAQ,CAACyC,IAAI,CAACzC;MAAS,CAAC;MACxE2F,WAAW,CAACK,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEC,SAAS,CAAC,CAAC;MAEzC,OAAOjG,QAAQ,CAACyC,IAAI;IACtB,CAAC,CAAC,OAAOwB,GAAG,EAAE;MACZF,QAAQ,CAACE,GAAG,CAAC9B,OAAO,CAAC;MACrB,MAAM8B,GAAG;IACX,CAAC,SAAS;MACRH,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMoC,SAAS,GAAGA,CAAA,KAAM;IACtBP,WAAW,CAAC,EAAE,CAAC;IACf5B,QAAQ,CAAC,IAAI,CAAC;EAChB,CAAC;EAED,OAAO;IAAE2B,QAAQ;IAAE7B,OAAO;IAAEhE,KAAK;IAAE+F,WAAW;IAAEM;EAAU,CAAC;AAC7D;;AAEA;AAAAT,GAAA,CApCgBD,SAAS;AAqCzB,OAAO,SAASW,kBAAkBA,CAAA,EAAG;EAAAC,GAAA;EACnC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG7H,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACoF,OAAO,EAAEC,UAAU,CAAC,GAAGrF,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACoB,KAAK,EAAEkE,QAAQ,CAAC,GAAGtF,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMmD,cAAc,GAAG,MAAAA,CAAOC,IAAI,EAAEC,QAAQ,GAAG,OAAO,KAAK;IACzD,IAAI;MACFgC,UAAU,CAAC,IAAI,CAAC;MAChBC,QAAQ,CAAC,IAAI,CAAC;MACd,MAAM/D,QAAQ,GAAG,MAAM2B,KAAK,CAACC,cAAc,CAACC,IAAI,EAAEC,QAAQ,CAAC;MAC3DwE,WAAW,CAACtG,QAAQ,CAACyC,IAAI,CAAC;MAC1B,OAAOzC,QAAQ,CAACyC,IAAI;IACtB,CAAC,CAAC,OAAOwB,GAAG,EAAE;MACZF,QAAQ,CAACE,GAAG,CAAC9B,OAAO,CAAC;MACrB,MAAM8B,GAAG;IACX,CAAC,SAAS;MACRH,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,OAAO;IAAEuC,QAAQ;IAAExC,OAAO;IAAEhE,KAAK;IAAE+B;EAAe,CAAC;AACrD;;AAEA;AAAAwE,GAAA,CAvBgBD,kBAAkB;AAwBlC,OAAO,SAASI,mBAAmBA,CAAA,EAAG;EAAAC,GAAA;EACpC,MAAM,CAACH,QAAQ,EAAEC,WAAW,CAAC,GAAG7H,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACoF,OAAO,EAAEC,UAAU,CAAC,GAAGrF,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACoB,KAAK,EAAEkE,QAAQ,CAAC,GAAGtF,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMsD,eAAe,GAAG,MAAAA,CAAOC,UAAU,EAAEC,YAAY,GAAG,OAAO,KAAK;IACpE,IAAI;MACF6B,UAAU,CAAC,IAAI,CAAC;MAChBC,QAAQ,CAAC,IAAI,CAAC;MACd,MAAM/D,QAAQ,GAAG,MAAM2B,KAAK,CAACI,eAAe,CAACC,UAAU,EAAEC,YAAY,CAAC;MACtEqE,WAAW,CAACtG,QAAQ,CAACyC,IAAI,CAAC;MAC1B,OAAOzC,QAAQ,CAACyC,IAAI;IACtB,CAAC,CAAC,OAAOwB,GAAG,EAAE;MACZF,QAAQ,CAACE,GAAG,CAAC9B,OAAO,CAAC;MACrB,MAAM8B,GAAG;IACX,CAAC,SAAS;MACRH,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,OAAO;IAAEuC,QAAQ;IAAExC,OAAO;IAAEhE,KAAK;IAAEkC;EAAgB,CAAC;AACtD;;AAEA;AAAAyE,GAAA,CAvBgBD,mBAAmB;AAwBnC,OAAO,SAASE,aAAaA,CAAA,EAAG;EAAAC,GAAA;EAC9B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGnI,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACoI,WAAW,EAAEC,cAAc,CAAC,GAAGrI,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACoF,OAAO,EAAEC,UAAU,CAAC,GAAGrF,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACoB,KAAK,EAAEkE,QAAQ,CAAC,GAAGtF,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMsI,UAAU,GAAGpI,WAAW,CAAC,YAAY;IACzC,IAAI;MACFmF,UAAU,CAAC,IAAI,CAAC;MAChB,MAAM,CAACkD,QAAQ,EAAEC,MAAM,CAAC,GAAG,MAAMnH,OAAO,CAACoH,GAAG,CAAC,CAC3CnE,aAAa,CAACvC,MAAM,CAAC,CAAC,EACtBuC,aAAa,CAACO,cAAc,CAAC,CAAC,CAC/B,CAAC;MACFsD,QAAQ,CAACI,QAAQ,CAACvE,IAAI,CAAC;MACvBqE,cAAc,CAACG,MAAM,CAACxE,IAAI,CAAC;IAC7B,CAAC,CAAC,OAAOwB,GAAG,EAAE;MACZF,QAAQ,CAACE,GAAG,CAAC9B,OAAO,CAAC;IACvB,CAAC,SAAS;MACR2B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;EAENpF,SAAS,CAAC,MAAM;IACdqI,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;EAEhB,MAAM/D,OAAO,GAAG,MAAOC,IAAI,IAAK;IAC9B,MAAMjD,QAAQ,GAAG,MAAM+C,aAAa,CAACC,OAAO,CAACC,IAAI,CAAC;IAClD2D,QAAQ,CAACZ,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEhG,QAAQ,CAACyC,IAAI,CAAC,CAAC;IAC1C,OAAOzC,QAAQ,CAACyC,IAAI;EACtB,CAAC;EAED,MAAMS,UAAU,GAAG,MAAAA,CAAOtC,EAAE,EAAEuC,OAAO,KAAK;IACxC,MAAMnD,QAAQ,GAAG,MAAM+C,aAAa,CAACG,UAAU,CAACtC,EAAE,EAAEuC,OAAO,CAAC;IAC5DyD,QAAQ,CAACZ,IAAI,IAAIA,IAAI,CAACmB,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACxG,EAAE,KAAKA,EAAE,GAAGZ,QAAQ,CAACyC,IAAI,GAAG2E,CAAC,CAAC,CAAC;IAChE,OAAOpH,QAAQ,CAACyC,IAAI;EACtB,CAAC;EAED,MAAMW,UAAU,GAAG,MAAOxC,EAAE,IAAK;IAC/B,MAAMmC,aAAa,CAACK,UAAU,CAACxC,EAAE,CAAC;IAClCgG,QAAQ,CAACZ,IAAI,IAAIA,IAAI,CAACqB,MAAM,CAACD,CAAC,IAAIA,CAAC,CAACxG,EAAE,KAAKA,EAAE,CAAC,CAAC;EACjD,CAAC;EAED,OAAO;IAAE+F,KAAK;IAAEE,WAAW;IAAEhD,OAAO;IAAEhE,KAAK;IAAEmD,OAAO;IAAEE,UAAU;IAAEE,UAAU;IAAEgB,OAAO,EAAE2C;EAAW,CAAC;AACrG;;AAEA;AAAAL,GAAA,CA9CgBD,aAAa;AA+C7B,OAAO,SAASa,KAAKA,CAAA,EAAG;EAAAC,GAAA;EACtB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGhJ,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACiJ,QAAQ,EAAEC,WAAW,CAAC,GAAGlJ,QAAQ,CAAC,KAAK,CAAC;EAE/C,MAAMmD,cAAc,GAAG,MAAAA,CAAOC,IAAI,EAAEC,QAAQ,GAAG,OAAO,KAAK;IACzD2F,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI;MACF,MAAMzH,QAAQ,GAAG,MAAM2B,KAAK,CAACC,cAAc,CAACC,IAAI,EAAEC,QAAQ,CAAC;MAC3D,OAAO9B,QAAQ,CAACyC,IAAI;IACtB,CAAC,CAAC,OAAO5C,KAAK,EAAE;MACd+H,OAAO,CAAC/H,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,MAAMA,KAAK;IACb,CAAC,SAAS;MACR4H,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,MAAM1F,eAAe,GAAG,MAAAA,CAAOC,UAAU,EAAE6F,UAAU,GAAG,CAAC,KAAK;IAC5DJ,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI;MACF,MAAMzH,QAAQ,GAAG,MAAM2B,KAAK,CAACI,eAAe,CAACC,UAAU,EAAE6F,UAAU,CAAC;MACpE,OAAO7H,QAAQ,CAACyC,IAAI;IACtB,CAAC,CAAC,OAAO5C,KAAK,EAAE;MACd+H,OAAO,CAAC/H,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChD,MAAMA,KAAK;IACb,CAAC,SAAS;MACR4H,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,MAAMvF,IAAI,GAAG,MAAAA,CAAOC,OAAO,EAAE2F,OAAO,GAAG,EAAE,KAAK;IAC5CH,WAAW,CAAC,IAAI,CAAC;IACjB,IAAI;MACF,MAAM3H,QAAQ,GAAG,MAAM2B,KAAK,CAACO,IAAI,CAACC,OAAO,EAAE2F,OAAO,CAAC;MACnD,OAAO9H,QAAQ,CAACyC,IAAI;IACtB,CAAC,CAAC,OAAO5C,KAAK,EAAE;MACd+H,OAAO,CAAC/H,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;MACnC,MAAMA,KAAK;IACb,CAAC,SAAS;MACR8H,WAAW,CAAC,KAAK,CAAC;IACpB;EACF,CAAC;EAED,OAAO;IAAE/F,cAAc;IAAEG,eAAe;IAAEG,IAAI;IAAEsF,SAAS;IAAEE;EAAS,CAAC;AACvE;;AAEA;AAAAH,GAAA,CA9CgBD,KAAK;AA+CrB,eAAetI,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}